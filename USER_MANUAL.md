# PaddleOCR PDF 处理工具用户手册

## 简介

本工具是一套专门用于处理PDF文档的OCR识别系统，主要用于北海案件相关PDF文档的文本提取和内容分析。通过使用先进的PaddleOCR技术，能够高效地从扫描版PDF中提取文本内容。

## 功能特性

1. **批量处理** - 自动遍历指定文件夹内的所有PDF文件
2. **高精度OCR** - 使用PaddleOCR引擎提供准确的文本识别
3. **图像预处理** - 自动优化图像质量以提高识别准确率
4. **结果多样化输出** - 提供文本和Markdown两种格式的结果文件
5. **进度追踪** - 实时显示处理进度和状态信息
6. **错误恢复** - 自动跳过损坏文件并记录错误信息

## 系统要求

### 操作系统
- Windows 10/11
- macOS 10.15或更高版本
- Linux (Ubuntu 18.04+或其他主流发行版)

### 软件环境
- Python 3.7或更高版本
- 至少4GB可用内存
- 足够的硬盘空间存储处理结果

## 安装指南

### 1. 安装Python
确保系统已安装Python 3.7或更高版本。

### 2. 安装依赖包
打开终端或命令提示符，执行以下命令：

```bash
pip install paddlepaddle
pip install paddleocr
pip install PyMuPDF
pip install opencv-python
pip install Pillow
```

注意：在某些系统上可能需要使用`pip3`替代`pip`。

### 3. 获取处理脚本
将以下文件放置在同一目录中：
- `process_beihai_with_paddleocr.py` - 主处理脚本
- `test_cover_ocr.py` - 测试脚本（可选）

## 使用方法

### 基本使用

1. 打开终端或命令提示符
2. 导航到脚本所在目录
3. 运行以下命令启动处理：

```bash
python process_beihai_with_paddleocr.py
```

默认情况下，程序会处理目录`/Volumes/TU260Pro/北海案件资料_处理中/原始卷/`中的所有PDF文件。

### 指定处理目录

可以通过修改脚本中的路径变量来指定不同的处理目录：

```python
# 修改以下路径为你想要处理的PDF文件所在目录
input_base_dir = '/your/input/directory/path'
# 修改以下路径为处理结果输出目录
output_base_dir = '/your/output/directory/path'
```

### 查看处理结果

处理完成后，结果将保存在以下位置：
1. OCR识别结果：每个PDF页面的OCR结果保存为单独的文本文件
2. 处理日志：终端中会显示详细的处理进度和状态信息

## 输出文件说明

### OCR结果文件
- 文件名格式：`ocr_result_page_[页码].txt`
- 内容包括：
  - 页面基本信息
  - 详细的OCR识别结果
  - 格式化后的文本内容
  - 识别状态信息

### 日志信息
终端中会实时显示以下信息：
- 正在处理的文件名
- 当前处理进度（已完成/总数）
- OCR识别结果摘要
- 错误信息（如有）

## 故障排除

### 常见问题

#### 1. "Unknown argument: use_gpu" 错误
这是由于PaddleOCR版本不兼容导致的参数错误。解决方案：
- 确保使用最新版本的PaddleOCR
- 移除脚本中的`use_gpu=False`参数

#### 2. OCR识别结果不准确
可能是图像质量问题导致，脚本已包含图像预处理功能：
- 灰度化处理
- 高斯模糊去噪
- 阈值处理增强对比度

#### 3. 处理速度慢
OCR处理是计算密集型任务，处理时间取决于：
- PDF文件大小和页数
- 系统硬件性能
- 图像复杂度

### 性能建议

1. 关闭不必要的应用程序以释放系统资源
2. 确保有足够的硬盘空间
3. 对于特别大的文件，建议分批处理

## 技术支持

如遇到无法解决的问题，请提供以下信息以便技术支持：
1. 错误信息截图
2. 操作系统版本
3. Python版本
4. 相关依赖包版本

## 版本历史

### v1.0
- 初始版本发布
- 支持基本PDF处理和OCR识别
- 包含图像预处理功能
- 提供详细的处理日志

## 许可证

本工具基于相关开源项目开发，仅供内部使用。